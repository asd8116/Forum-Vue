(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d6c4c88c"],{"02f4":function(t,e,r){var n=r("4588"),s=r("be13");t.exports=function(t){return function(e,r){var i,a,o=String(s(e)),c=n(r),l=o.length;return c<0||c>=l?t?"":void 0:(i=o.charCodeAt(c),i<55296||i>56319||c+1===l||(a=o.charCodeAt(c+1))<56320||a>57343?t?o.charAt(c):i:t?o.slice(c,c+2):a-56320+(i-55296<<10)+65536)}}},1511:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[r("UserProfileCard",{attrs:{user:t.user,"is-current-user":t.currentUser.id===t.user.id,"initial-is-followed":t.isFollowed}}),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-4"},[r("UserFollowingsCard",{attrs:{followings:t.followings}}),r("UserFollowersCard",{attrs:{followers:t.followers}})],1),r("div",{staticClass:"col-md-8"},[r("UserCommentsCard",{attrs:{comments:t.comments}}),r("UserFavoritedRestaurantsCard",{attrs:{"favorited-restaurants":t.favoritedRestaurants}})],1)])],1)},s=[],i=(r("8e6e"),r("456d"),r("a745")),a=r.n(i);function o(t){if(a()(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}var c=r("774e"),l=r.n(c),u=r("c8bb"),f=r.n(u);function d(t){if(f()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return l()(t)}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(t){return o(t)||d(t)||v()}r("7f7f"),r("ac6a"),r("5df3"),r("f400"),r("96cf");var p=r("3b8d"),m=r("bd86"),g=r("2f62"),w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card mb-3"},[r("div",{staticClass:"row no-gutters"},[r("div",{staticClass:"col-md-4"},[r("img",{attrs:{src:t._f("emptyImage")(t.user.image),width:"300px",height:"300px"}})]),r("div",{staticClass:"col-md-8"},[r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[t._v(t._s(t.user.name))]),r("p",{staticClass:"card-text"},[t._v(t._s(t.user.email))]),r("ul",{staticClass:"list-unstyled"},[r("li",[r("strong",[t._v(t._s(t.user.commentsLength))]),t._v(" 間已評論餐廳\n          ")]),r("li",[r("strong",[t._v(t._s(t.user.favoritedRestaurantsLength))]),t._v(" 間收藏的餐廳\n          ")]),r("li",[r("strong",[t._v(t._s(t.user.followingsLength))]),t._v(" followings (追蹤者)\n          ")]),r("li",[r("strong",[t._v(t._s(t.user.followersLength))]),t._v(" followers (追隨者)\n          ")])]),t.isCurrentUser?[r("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"user-edit",params:{id:t.user.id}}}},[t._v("Edit")])]:[t.isFollowed?r("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteFollowing(t.user.id)}}},[t._v("取消追蹤")]):r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFollowing(t.user.id)}}},[t._v("追蹤")])]],2)])])])},b=[],_=r("2708"),y=r("4cce"),C=r("2fa3"),x={mixins:[_["a"]],props:{user:{type:Object,required:!0},isCurrentUser:{type:Boolean,required:!0},initialIsFollowed:{type:Boolean,required:!0}},data:function(){return{isFollowed:this.initialIsFollowed}},watch:{initialIsFollowed:function(t){this.isFollowed=t}},methods:{addFollowing:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){var r,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y["a"].addFollowing({userId:e});case 3:if(r=t.sent,n=r.data,s=r.statusText,"OK"===s&&"success"===n.status){t.next=8;break}throw new Error(s);case 8:this.isFollowed=!0,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),C["a"].fire({type:"error",title:"無法加入追蹤，請稍後再試"});case 14:case"end":return t.stop()}},t,this,[[0,11]])}));function e(e){return t.apply(this,arguments)}return e}(),deleteFollowing:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){var r,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y["a"].deleteFollowing({userId:e});case 3:if(r=t.sent,n=r.data,s=r.statusText,"OK"===s&&"success"===n.status){t.next=8;break}throw new Error(s);case 8:this.isFollowed=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),C["a"].fire({type:"error",title:"無法取消追蹤，請稍後再試"});case 14:case"end":return t.stop()}},t,this,[[0,11]])}));function e(e){return t.apply(this,arguments)}return e}()}},O=x,F=r("2877"),k=Object(F["a"])(O,w,b,!1,null,null,null),E=k.exports,j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card mb-3"},[r("div",{staticClass:"card-header"},[r("strong",[t._v(t._s(t.followings.length))]),t._v(" followings (追蹤者)\n  ")]),r("div",{staticClass:"card-body"},t._l(t.followings,function(e){return r("router-link",{key:e.id,attrs:{to:{name:"user",params:{id:e.id}}}},[r("img",{staticClass:"mr-1 mb-1",attrs:{src:t._f("emptyImage")(e.image),width:"60",height:"60"}})])}),1)])},A=[],R={mixins:[_["a"]],props:{followings:{type:Array,default:function(){return[]}}}},U=R,I=Object(F["a"])(U,j,A,!1,null,null,null),P=I.exports,L=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[r("strong",[t._v(t._s(t.followers.length))]),t._v(" followers (追隨者)\n  ")]),r("div",{staticClass:"card-body"},t._l(t.followers,function(e){return r("router-link",{key:e.id,attrs:{to:{name:"user",params:{id:e.id}}}},[r("img",{staticClass:"mr-1 mb-1",attrs:{src:t._f("emptyImage")(e.image),width:"60",height:"60"}})])}),1)])},S=[],D={mixins:[_["a"]],props:{followers:{type:Array,default:function(){return[]}}}},$=D,K=Object(F["a"])($,L,S,!1,null,null,null),T=K.exports,q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card mb-3"},[r("div",{staticClass:"card-header"},[r("strong",[t._v(t._s(t.comments.length))]),t._v(" 間已評論餐廳\n  ")]),r("div",{staticClass:"card-body"},t._l(t.comments,function(e){return r("router-link",{key:e.id,attrs:{to:{name:"restaurant",params:{id:e.id}}}},[r("img",{staticClass:"mr-1 mb-1",attrs:{src:t._f("emptyImage")(e.image),width:"60",height:"60"}})])}),1)])},z=[],N={mixins:[_["a"]],props:{comments:{type:Array,default:function(){return[]}}}},B=N,J=Object(F["a"])(B,q,z,!1,null,null,null),M=J.exports,W=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[r("strong",[t._v(t._s(t.favoritedRestaurants.length))]),t._v(" 間收藏的餐廳\n  ")]),r("div",{staticClass:"card-body"},t._l(t.favoritedRestaurants,function(e){return r("router-link",{key:e.id,attrs:{to:{name:"restaurant",params:{id:e.id}}}},[r("img",{staticClass:"mr-1 mb-1",attrs:{src:t._f("emptyImage")(e.image),width:"60",height:"60"}})])}),1)])},G=[],Y={mixins:[_["a"]],props:{favoritedRestaurants:{type:Array,default:function(){return[]}}}},H=Y,Q=Object(F["a"])(H,W,G,!1,null,null,null),V=Q.exports;function X(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?X(r,!0).forEach(function(e){Object(m["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var tt={data:function(){return{user:{id:0,image:"",name:"",email:"",followingsLength:0,followersLength:0,commentsLength:0,favoritedRestaurantsLength:0},isFollowed:!1,followings:[],followers:[],comments:[],favoritedRestaurants:[]}},computed:Z({},Object(g["b"])(["currentUser"])),created:function(){var t=this.$route.params.id;this.fetchUser(t)},beforeRouteUpdate:function(t,e,r){var n=t.params.id;this.fetchUser(n),r()},methods:{fetchUser:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){var r,n,s,i,a,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y["a"].get({userId:e});case 3:if(r=t.sent,n=r.data,s=r.statusText,i=n.profile,a=n.isFollowed,"OK"===s){t.next=9;break}throw new Error(s);case 9:o=i.Comments.reduce(function(t,e){var r=e.Restaurant;return r&&!t.has(r.id)&&t.set(r.id,r),t},new Map),this.user=Z({},this.user,{id:i.id,image:i.image,name:i.name,email:i.email,followingsLength:i.Followings.length,followersLength:i.Followers.length,commentsLength:h(o.values()).length,favoritedRestaurantsLength:i.FavoritedRestaurants.length}),this.isFollowed=a,this.followings=i.Followings,this.followers=i.Followers,this.favoritedRestaurants=i.FavoritedRestaurants,this.comments=h(o.values()),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](0),C["a"].fire({type:"error",title:"無法取得使用者資料，請稍後再試"});case 21:case"end":return t.stop()}},t,this,[[0,18]])}));function e(e){return t.apply(this,arguments)}return e}()},components:{UserProfileCard:E,UserFollowingsCard:P,UserFollowersCard:T,UserCommentsCard:M,UserFavoritedRestaurantsCard:V}},et=tt,rt=Object(F["a"])(et,n,s,!1,null,null,null);e["default"]=rt.exports},"1af6":function(t,e,r){var n=r("63b6");n(n.S,"Array",{isArray:r("9003")})},"20fd":function(t,e,r){"use strict";var n=r("d9f6"),s=r("aebd");t.exports=function(t,e,r){e in t?n.f(t,e,s(0,r)):t[e]=r}},"549b":function(t,e,r){"use strict";var n=r("d864"),s=r("63b6"),i=r("241e"),a=r("b0dc"),o=r("3702"),c=r("b447"),l=r("20fd"),u=r("7cd6");s(s.S+s.F*!r("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,s,f,d=i(t),v="function"==typeof this?this:Array,h=arguments.length,p=h>1?arguments[1]:void 0,m=void 0!==p,g=0,w=u(d);if(m&&(p=n(p,h>2?arguments[2]:void 0,2)),void 0==w||v==Array&&o(w))for(e=c(d.length),r=new v(e);e>g;g++)l(r,g,m?p(d[g],g):d[g]);else for(f=w.call(d),r=new v;!(s=f.next()).done;g++)l(r,g,m?a(f,p,[s.value,g],!0):s.value);return r.length=g,r}})},"54a1":function(t,e,r){r("6c1c"),r("1654"),t.exports=r("95d5")},"5df3":function(t,e,r){"use strict";var n=r("02f4")(!0);r("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},"67ab":function(t,e,r){var n=r("ca5a")("meta"),s=r("d3f4"),i=r("69a8"),a=r("86cc").f,o=0,c=Object.isExtensible||function(){return!0},l=!r("79e5")(function(){return c(Object.preventExtensions({}))}),u=function(t){a(t,n,{value:{i:"O"+ ++o,w:{}}})},f=function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,n)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[n].i},d=function(t,e){if(!i(t,n)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[n].w},v=function(t){return l&&h.NEED&&c(t)&&!i(t,n)&&u(t),t},h=t.exports={KEY:n,NEED:!1,fastKey:f,getWeak:d,onFreeze:v}},"774e":function(t,e,r){t.exports=r("d2d5")},9003:function(t,e,r){var n=r("6b4c");t.exports=Array.isArray||function(t){return"Array"==n(t)}},"95d5":function(t,e,r){var n=r("40c3"),s=r("5168")("iterator"),i=r("481b");t.exports=r("584a").isIterable=function(t){var e=Object(t);return void 0!==e[s]||"@@iterator"in e||i.hasOwnProperty(n(e))}},a745:function(t,e,r){t.exports=r("f410")},b39a:function(t,e,r){var n=r("d3f4");t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},c26b:function(t,e,r){"use strict";var n=r("86cc").f,s=r("2aeb"),i=r("dcbc"),a=r("9b43"),o=r("f605"),c=r("4a59"),l=r("01f9"),u=r("d53b"),f=r("7a56"),d=r("9e1e"),v=r("67ab").fastKey,h=r("b39a"),p=d?"_s":"size",m=function(t,e){var r,n=v(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,l){var u=t(function(t,n){o(t,u,e,"_i"),t._t=e,t._i=s(null),t._f=void 0,t._l=void 0,t[p]=0,void 0!=n&&c(n,r,t[l],t)});return i(u.prototype,{clear:function(){for(var t=h(this,e),r=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];t._f=t._l=void 0,t[p]=0},delete:function(t){var r=h(this,e),n=m(r,t);if(n){var s=n.n,i=n.p;delete r._i[n.i],n.r=!0,i&&(i.n=s),s&&(s.p=i),r._f==n&&(r._f=s),r._l==n&&(r._l=i),r[p]--}return!!n},forEach:function(t){h(this,e);var r,n=a(t,arguments.length>1?arguments[1]:void 0,3);while(r=r?r.n:this._f){n(r.v,r.k,this);while(r&&r.r)r=r.p}},has:function(t){return!!m(h(this,e),t)}}),d&&n(u.prototype,"size",{get:function(){return h(this,e)[p]}}),u},def:function(t,e,r){var n,s,i=m(t,e);return i?i.v=r:(t._l=i={i:s=v(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=i),n&&(n.n=i),t[p]++,"F"!==s&&(t._i[s]=i)),t},getEntry:m,setStrong:function(t,e,r){l(t,e,function(t,r){this._t=h(t,e),this._k=r,this._l=void 0},function(){var t=this,e=t._k,r=t._l;while(r&&r.r)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?u(0,"keys"==e?r.k:"values"==e?r.v:[r.k,r.v]):(t._t=void 0,u(1))},r?"entries":"values",!r,!0),f(e)}}},c8bb:function(t,e,r){t.exports=r("54a1")},d2d5:function(t,e,r){r("1654"),r("549b"),t.exports=r("584a").Array.from},e0b8:function(t,e,r){"use strict";var n=r("7726"),s=r("5ca1"),i=r("2aba"),a=r("dcbc"),o=r("67ab"),c=r("4a59"),l=r("f605"),u=r("d3f4"),f=r("79e5"),d=r("5cc5"),v=r("7f20"),h=r("5dbc");t.exports=function(t,e,r,p,m,g){var w=n[t],b=w,_=m?"set":"add",y=b&&b.prototype,C={},x=function(t){var e=y[t];i(y,t,"delete"==t?function(t){return!(g&&!u(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,r){return e.call(this,0===t?0:t,r),this})};if("function"==typeof b&&(g||y.forEach&&!f(function(){(new b).entries().next()}))){var O=new b,F=O[_](g?{}:-0,1)!=O,k=f(function(){O.has(1)}),E=d(function(t){new b(t)}),j=!g&&f(function(){var t=new b,e=5;while(e--)t[_](e,e);return!t.has(-0)});E||(b=e(function(e,r){l(e,b,t);var n=h(new w,e,b);return void 0!=r&&c(r,m,n[_],n),n}),b.prototype=y,y.constructor=b),(k||j)&&(x("delete"),x("has"),m&&x("get")),(j||F)&&x(_),g&&y.clear&&delete y.clear}else b=p.getConstructor(e,t,m,_),a(b.prototype,r),o.NEED=!0;return v(b,t),C[t]=b,s(s.G+s.W+s.F*(b!=w),C),g||p.setStrong(b,t,m),b}},f400:function(t,e,r){"use strict";var n=r("c26b"),s=r("b39a"),i="Map";t.exports=r("e0b8")(i,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(s(this,i),t);return e&&e.v},set:function(t,e){return n.def(s(this,i),0===t?0:t,e)}},n,!0)},f410:function(t,e,r){r("1af6"),t.exports=r("584a").Array.isArray}}]);
//# sourceMappingURL=chunk-d6c4c88c.60c5083f.js.map